(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(43),l=n.n(r),o=n(10),u=n(27),s=n(42),i={clearCompleted:function(){return function(e,t){var n=e(),a=n.ids,c=n.byId;a.forEach((function(e){c[e].done&&t(u.a.removeResource(e))}))}},completeAll:function(){return function(e,t){var n=e(),a=n.ids,c=n.byId;a.forEach((function(e){c[e].done||t(u.a.updateResource(e,"done",!0))}))}}},m=Object(s.a)("todos",{actions:i,resourceOptions:{getInitialState:function(){return{id:null,label:"",done:!1}}}}),d=n(4),f=n(5),b=function(e){return Object(a.useCallback)((function(t){"Enter"===t.key&&(t.preventDefault(),e(t))}),[e])},h=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1],l=Object(a.useCallback)((function(e){return r(e.target.value)}),[r]),o=m.useAction("initializeResource"),u=b((function(){if(n){var e=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}();o(e,{label:n,id:e}),r("")}}));return c.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onKeyPress:u,value:n,onChange:l})},E=n(45),p=function(e){var t=e.id,n=m.useMember({fieldKey:"label",resourceId:t}),r=Object(f.a)(n,2),l=r[0],o=r[1],u=Object(a.useCallback)((function(e){return o(e.target.value)}),[o]),s=m.useMember({fieldKey:"done",resourceId:t}),i=Object(f.a)(s,2),h=i[0],p=i[1],g=Object(a.useCallback)((function(e){return p(e.target.checked)}),[p]),v=m.useAction("removeResource"),k=Object(a.useCallback)((function(){return v(t)}),[t,v]),O=Object(a.useState)(!1),j=Object(f.a)(O,2),C=j[0],y=j[1],N=function(e){var t=Object(a.useRef)([]),n=Object(a.useRef)();return Object(a.useCallback)((function(){for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];t.current=[].concat(Object(d.a)(t.current),[(new Date).getTime()]),clearTimeout(n.current),n.current=setTimeout((function(){t.current.length>1&&t.current[t.current.length-1]-t.current[t.current.length-2]<250&&e.apply(void 0,c),t.current=[]}),250)}),[e])}(Object(a.useCallback)((function(){return y(!0)}),[y])),w=Object(a.useCallback)((function(){y(!1);var e=l.trim();e?o(e):setTimeout((function(){return v(t)}))}),[t,o,l,v]),I=b(w),A=Object(a.useRef)();return Object(E.a)(A,w),c.a.createElement("li",{onClick:N,className:"".concat(C?"editing":""," ").concat(h?"completed":"")},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:h,onChange:g,autoFocus:!0}),c.a.createElement("label",null,l),c.a.createElement("button",{className:"destroy",onClick:k})),C&&c.a.createElement("input",{ref:A,className:"edit",value:l,onChange:u,onKeyPress:I,autoFocus:!0}))},g=function(e){var t=e.ids,n=e.byId,a=[],c=[];return t.forEach((function(e){return n[e].done?a=[].concat(Object(d.a)(a),[e]):c=[].concat(Object(d.a)(c),[e])})),{ids:t,doneIds:a,leftIds:c}},v=function(e){return e.isCurrent?{className:"selected"}:{}},k=function(e){var t=e.status,n=m.useSelector(g),r=n.ids,l=n.doneIds,u=n.leftIds,s=m.useAction(),i=s.clearCompleted,d=s.completeAll,f=u.length,b=l.length,E=Object(a.useMemo)((function(){switch(t){case"active":return u;case"completed":return l;default:return r}}),[r,l,u,t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement(h,null)),c.a.createElement("section",{className:"main"},c.a.createElement("input",{id:"toggle-all",type:"checkbox",className:"toggle-all",checked:b===r.length,onChange:d}),c.a.createElement("label",{htmlFor:"toggle-all"}),c.a.createElement("ul",{className:"todo-list"},E.map((function(e){return c.a.createElement(p,{key:e,id:e})})))),c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},c.a.createElement("strong",null,f)," items left"),c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement(o.a,{to:"/",getProps:v},"All")),c.a.createElement("li",null,c.a.createElement(o.a,{to:"/active",getProps:v},"Active")),c.a.createElement("li",null,c.a.createElement(o.a,{to:"/completed",getProps:v},"Completed"))),!!b&&c.a.createElement("button",{className:"clear-completed",onClick:i},"Clear completed")))},O=function(){return c.a.createElement("footer",{className:"info"},c.a.createElement("p",null,"Double-click to edit a todo"),c.a.createElement("p",null,"Created by ",c.a.createElement("a",{href:"http://github.com/novykh/"},"novykh")),c.a.createElement("p",null,"Part of ",c.a.createElement("a",{href:"http://todomvc.com"},"TodoMVC")))},j=(n(124),function(){return c.a.createElement(a.Fragment,null,c.a.createElement(m.Provider,null,c.a.createElement(o.b,null,c.a.createElement(k,{path:"/"}),c.a.createElement(k,{path:":status"}))),c.a.createElement(O,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,n){e.exports=n(125)}},[[47,1,2]]]);
//# sourceMappingURL=main.970034ed.chunk.js.map
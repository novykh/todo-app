(this["webpackJsonpmy-todo-app-with-hoax"]=this["webpackJsonpmy-todo-app-with-hoax"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(43),l=n.n(o),r=(n(52),n(10)),u=n(27),i=n(42),s={clearCompleted:function(){return function(e,t){var n=e(),a=n.ids,c=n.byId;a.forEach((function(e){c[e].done&&t(u.a.removeResource(e))}))}},completeAll:function(){return function(e,t){var n=e(),a=n.ids,c=n.byId;a.forEach((function(e){c[e].done||t(u.a.updateResource(e,"done",!0))}))}}},m=Object(i.a)("todos",{actions:s,resourceOptions:{getInitialState:function(){return{id:null,label:"",done:!1}}}}),d=n(5),f=n(4),h=function(e){return Object(a.useCallback)((function(t){"Enter"===t.key&&(t.preventDefault(),e(t))}),[e])},p=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],o=t[1],l=Object(a.useCallback)((function(e){return o(e.target.value)}),[o]),r=m.useAction("initializeResource"),u=h((function(){if(n){var e=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}();r(e,{label:n,id:e}),o("")}}));return c.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onKeyPress:u,value:n,onChange:l})},b=n(45),E=function(e){var t=e.id,n=m.useMember({fieldKey:"label",resourceId:t}),o=Object(f.a)(n,2),l=o[0],r=o[1],u=Object(a.useCallback)((function(e){return r(e.target.value)}),[r]),i=m.useMember({fieldKey:"done",resourceId:t}),s=Object(f.a)(i,2),d=s[0],p=s[1],E=Object(a.useCallback)((function(e){return p(e.target.checked)}),[p]),g=m.useAction("removeResource"),v=Object(a.useCallback)((function(){return g(t)}),[t,g]),k=Object(a.useState)(!1),y=Object(f.a)(k,2),C=y[0],O=y[1],j=function(e,t){var n,a=[];return function(c){for(var o=arguments.length,l=new Array(o>1?o-1:0),r=1;r<o;r++)l[r-1]=arguments[r];a.push((new Date).getTime()),clearTimeout(n),n=setTimeout((function(){a.length>1&&a[a.length-1]-a[a.length-2]<250?t&&t.apply(void 0,[c].concat(l)):e&&e.apply(void 0,[c].concat(l)),a=[]}),250)}}(null,(function(){return O(!0)})),N=Object(a.useCallback)((function(){O(!1);var e=l.trim();e?r(e):setTimeout((function(){return g(t)}))}),[t,r,l,g]),w=h(N),I=Object(a.useRef)();return Object(b.a)(I,N),c.a.createElement("li",{onClick:j,className:"".concat(C?"editing":""," ").concat(d?"completed":"")},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:d,onChange:E,autoFocus:!0}),c.a.createElement("label",null,l),c.a.createElement("button",{className:"destroy",onClick:v})),C&&c.a.createElement("input",{ref:I,className:"edit",value:l,onChange:u,onKeyPress:w,autoFocus:!0}))},g=function(e){var t=e.ids,n=e.byId,a=[],c=[];return t.forEach((function(e){return n[e].done?a=[].concat(Object(d.a)(a),[e]):c=[].concat(Object(d.a)(c),[e])})),{ids:t,doneIds:a,leftIds:c}},v=function(e){return e.isCurrent?{className:"selected"}:{}},k=function(e){var t=e.status,n=m.useSelector(g),o=n.ids,l=n.doneIds,u=n.leftIds,i=m.useAction(),s=i.clearCompleted,d=i.completeAll,f=u.length,h=l.length,b=Object(a.useMemo)((function(){switch(t){case"active":return u;case"completed":return l;default:return o}}),[o,l,u,t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement(p,null)),c.a.createElement("section",{className:"main"},c.a.createElement("input",{id:"toggle-all",type:"checkbox",className:"toggle-all",checked:h===o.length,onChange:d}),c.a.createElement("label",{htmlFor:"toggle-all"}),c.a.createElement("ul",{className:"todo-list"},b.map((function(e){return c.a.createElement(E,{key:e,id:e})})))),c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},c.a.createElement("strong",null,f)," items left"),c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement(r.a,{to:"/",getProps:v},"All")),c.a.createElement("li",null,c.a.createElement(r.a,{to:"/active",getProps:v},"Active")),c.a.createElement("li",null,c.a.createElement(r.a,{to:"/completed",getProps:v},"Completed"))),!!h&&c.a.createElement("button",{className:"clear-completed",onClick:s},"Clear completed")))},y=function(){return c.a.createElement("footer",{className:"info"},c.a.createElement("p",null,"Double-click to edit a todo"),c.a.createElement("p",null,"Created by ",c.a.createElement("a",{href:"http://github.com/novykh/"},"novykh")),c.a.createElement("p",null,"Part of ",c.a.createElement("a",{href:"http://todomvc.com"},"TodoMVC")))},C=(n(125),function(){return c.a.createElement(a.Fragment,null,c.a.createElement(m.Provider,null,c.a.createElement(r.b,null,c.a.createElement(k,{path:"/"}),c.a.createElement(k,{path:":status"}))),c.a.createElement(y,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,n){e.exports=n(126)},52:function(e,t,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.b3858987.chunk.js.map